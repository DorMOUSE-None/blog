<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" class="next-head"/><link rel="preload" href="https://www.ffutop.com/blog/_next/static/_riL46b7psXrRfagCJJLx/pages/post.js" as="script"/><link rel="preload" href="https://www.ffutop.com/blog/_next/static/_riL46b7psXrRfagCJJLx/pages/_app.js" as="script"/><link rel="preload" href="https://www.ffutop.com/blog/_next/static/runtime/webpack-8ed9452df514b4d17d80.js" as="script"/><link rel="preload" href="https://www.ffutop.com/blog/_next/static/chunks/commons.4197c692ff76bb557049.js" as="script"/><link rel="preload" href="https://www.ffutop.com/blog/_next/static/chunks/styles.923c53dcd3ae2618e978.js" as="script"/><link rel="preload" href="https://www.ffutop.com/blog/_next/static/runtime/main-3daabeb1dde7624c7fe0.js" as="script"/><link rel="stylesheet" href="https://www.ffutop.com/blog/_next/static/css/commons.c66cb323.chunk.css"/><link rel="stylesheet" href="https://www.ffutop.com/blog/_next/static/css/styles.b591229f.chunk.css"/></head><body><div id="__next"><header><h1 class="title">ffutop</h1><div><a href="/blog/index">博客</a><a href="/blog/archives">归档</a><a href="/blog/tags">标签</a><a href="/blog/about">关于</a></div></header><div><main class="main"><div id="write" class="page-post"><div><hr>
<p>title: java-memory-model
date: 2018-06-21
author: fangfeng
tags:</p>
<ul>
<li>Java</li>
<li>JVM</li>
<li>Memory Model</li>
</ul>
<hr>
<h2>JVM 运行时数据区</h2>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1ft5osi6it1j31kw0ql78e.jpg"></p>
<h3>PC寄存器</h3>
<p>与操作系统中的PC寄存器功能基本一致。毕竟 JVM 建立的初衷就是模拟一台机器。
指向存储在<strong>方法区</strong>的字节码methods_info部分的内存地址。</p>
<h3>虚拟机栈</h3>
<p><strong>虚拟机栈</strong>用于存储<strong>栈帧</strong></p>
<h3>本地方法栈</h3>
<p>用于支持 native 方法的执行</p>
<h3>栈帧</h3>
<p>存储在<strong>虚拟机栈</strong>中，主要包括<strong>局部变量表</strong>和<strong>操作数栈</strong>(又称<strong>当前栈帧的操作数栈</strong>)以及<strong>运行时常量池的引用</strong>。</p>
<p><em>仍然有必要区别两个概念: 操作数 &#x26; 指令</em>
<em>指令指使操作数进行相关操作的基本命令</em>
<em>操作数通常指整数、浮点数以及类型引用等</em></p>
<h3>方法区</h3>
<p><strong>方法区</strong>是多个线程共享的一块区域，主要用于存储I/O操作中读入的类/接口的字节码(ClassFile 文件)
包括有 constant_pool, field_info, method_info, attribute_info 等</p>
<h3>Java堆</h3>
<p>用于存储各种类的实例对象</p>
<pre><code class="language-plain">  __                    __                  
 / _| __ _ _ __   __ _ / _| ___ _ __   __ _ 
| |_ / _` | '_ \ / _` | |_ / _ \ '_ \ / _` |
|  _| (_| | | | | (_| |  _|  __/ | | | (_| |
|_|  \__,_|_| |_|\__, |_|  \___|_| |_|\__, |
                 |___/                |___/ 
</code></pre></div></div></main><footer class="footer">ffutop © <!-- -->2019<!-- -->, Built with<a href="https://reactjs.org/">React</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/post","query":{"content":"\u003chr\u003e\n\u003cp\u003etitle: java-memory-model\ndate: 2018-06-21\nauthor: fangfeng\ntags:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eJava\u003c/li\u003e\n\u003cli\u003eJVM\u003c/li\u003e\n\u003cli\u003eMemory Model\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003eJVM 运行时数据区\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"https://ws4.sinaimg.cn/large/006tNc79gy1ft5osi6it1j31kw0ql78e.jpg\"\u003e\u003c/p\u003e\n\u003ch3\u003ePC寄存器\u003c/h3\u003e\n\u003cp\u003e与操作系统中的PC寄存器功能基本一致。毕竟 JVM 建立的初衷就是模拟一台机器。\n指向存储在\u003cstrong\u003e方法区\u003c/strong\u003e的字节码methods_info部分的内存地址。\u003c/p\u003e\n\u003ch3\u003e虚拟机栈\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e虚拟机栈\u003c/strong\u003e用于存储\u003cstrong\u003e栈帧\u003c/strong\u003e\u003c/p\u003e\n\u003ch3\u003e本地方法栈\u003c/h3\u003e\n\u003cp\u003e用于支持 native 方法的执行\u003c/p\u003e\n\u003ch3\u003e栈帧\u003c/h3\u003e\n\u003cp\u003e存储在\u003cstrong\u003e虚拟机栈\u003c/strong\u003e中，主要包括\u003cstrong\u003e局部变量表\u003c/strong\u003e和\u003cstrong\u003e操作数栈\u003c/strong\u003e(又称\u003cstrong\u003e当前栈帧的操作数栈\u003c/strong\u003e)以及\u003cstrong\u003e运行时常量池的引用\u003c/strong\u003e。\u003c/p\u003e\n\u003cp\u003e\u003cem\u003e仍然有必要区别两个概念: 操作数 \u0026#x26; 指令\u003c/em\u003e\n\u003cem\u003e指令指使操作数进行相关操作的基本命令\u003c/em\u003e\n\u003cem\u003e操作数通常指整数、浮点数以及类型引用等\u003c/em\u003e\u003c/p\u003e\n\u003ch3\u003e方法区\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003e方法区\u003c/strong\u003e是多个线程共享的一块区域，主要用于存储I/O操作中读入的类/接口的字节码(ClassFile 文件)\n包括有 constant_pool, field_info, method_info, attribute_info 等\u003c/p\u003e\n\u003ch3\u003eJava堆\u003c/h3\u003e\n\u003cp\u003e用于存储各种类的实例对象\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-plain\"\u003e  __                    __                  \n / _| __ _ _ __   __ _ / _| ___ _ __   __ _ \n| |_ / _` | '_ \\ / _` | |_ / _ \\ '_ \\ / _` |\n|  _| (_| | | | | (_| |  _|  __/ | | | (_| |\n|_|  \\__,_|_| |_|\\__, |_|  \\___|_| |_|\\__, |\n                 |___/                |___/ \n\u003c/code\u003e\u003c/pre\u003e"},"buildId":"_riL46b7psXrRfagCJJLx","dynamicBuildId":false,"assetPrefix":"https://www.ffutop.com/blog","nextExport":true}</script><script async="" id="__NEXT_PAGE__/post" src="https://www.ffutop.com/blog/_next/static/_riL46b7psXrRfagCJJLx/pages/post.js"></script><script async="" id="__NEXT_PAGE__/_app" src="https://www.ffutop.com/blog/_next/static/_riL46b7psXrRfagCJJLx/pages/_app.js"></script><script src="https://www.ffutop.com/blog/_next/static/runtime/webpack-8ed9452df514b4d17d80.js" async=""></script><script src="https://www.ffutop.com/blog/_next/static/chunks/commons.4197c692ff76bb557049.js" async=""></script><script src="https://www.ffutop.com/blog/_next/static/chunks/styles.923c53dcd3ae2618e978.js" async=""></script><script src="https://www.ffutop.com/blog/_next/static/runtime/main-3daabeb1dde7624c7fe0.js" async=""></script></body></html>